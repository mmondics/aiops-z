
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
        <link rel="canonical" href="https://mmondics.github.io/aiops-z/labs/instana-lab/">
      
      
        <link rel="prev" href="../../aiops_z_03-20-24.pdf">
      
      
        <link rel="next" href="../turbonomic-lab/">
      
      
      <link rel="icon" href="../../images/CP4AIOps-logo.svg">
      <meta name="generator" content="mkdocs-1.5.3, mkdocs-material-9.5.17">
    
    
      
        <title>Instana - AIOps with IBM Z and LinuxONE</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.bcfcd587.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../css/print-site-enum-headings1.css">
    
      <link rel="stylesheet" href="../../css/print-site-enum-headings2.css">
    
      <link rel="stylesheet" href="../../css/print-site-enum-headings3.css">
    
      <link rel="stylesheet" href="../../css/print-site-enum-headings4.css">
    
      <link rel="stylesheet" href="../../css/print-site-enum-headings5.css">
    
      <link rel="stylesheet" href="../../css/print-site-enum-headings6.css">
    
      <link rel="stylesheet" href="../../css/print-site.css">
    
      <link rel="stylesheet" href="../../css/print-site-material.css">
    
      <link rel="stylesheet" href="../../stylesheets/extra.css">
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#aiops-with-ibm-z-and-linuxone" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="AIOps with IBM Z and LinuxONE" class="md-header__button md-logo" aria-label="AIOps with IBM Z and LinuxONE" data-md-component="logo">
      
  <img src="../../images/CP4AIOps-logo.svg" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            AIOps with IBM Z and LinuxONE
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Instana
            
          </span>
        </div>
      </div>
    </div>
    
      
    
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/mmondics/aiops-z/" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.5.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="AIOps with IBM Z and LinuxONE" class="md-nav__button md-logo" aria-label="AIOps with IBM Z and LinuxONE" data-md-component="logo">
      
  <img src="../../images/CP4AIOps-logo.svg" alt="logo">

    </a>
    AIOps with IBM Z and LinuxONE
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/mmondics/aiops-z/" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.5.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Home
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../access/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Environment Access
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../workshop-architecture/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Lab Architecture
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../aiops_z_03-20-24.pdf" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Presentation
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" checked>
        
          
          <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Labs
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            Labs
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    Instana
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    Instana
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#environment-overview" class="md-nav__link">
    <span class="md-ellipsis">
      Environment Overview
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#connecting-to-the-lab-environment" class="md-nav__link">
    <span class="md-ellipsis">
      Connecting to the Lab Environment
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#exploring-the-robot-shop-sample-application" class="md-nav__link">
    <span class="md-ellipsis">
      Exploring the Robot Shop Sample Application
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#instana" class="md-nav__link">
    <span class="md-ellipsis">
      Instana
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Instana">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#overview-of-instana-observability" class="md-nav__link">
    <span class="md-ellipsis">
      Overview of Instana Observability
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#viewing-the-instana-agent-on-openshift" class="md-nav__link">
    <span class="md-ellipsis">
      Viewing the Instana Agent on OpenShift
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#navigating-the-instana-dashboard" class="md-nav__link">
    <span class="md-ellipsis">
      Navigating the Instana Dashboard
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#using-instana-to-identify-a-problem" class="md-nav__link">
    <span class="md-ellipsis">
      Using Instana to Identify a Problem
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#instana-wrap-up" class="md-nav__link">
    <span class="md-ellipsis">
      Instana Wrap-up
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#references" class="md-nav__link">
    <span class="md-ellipsis">
      References
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../turbonomic-lab/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Turbonomic
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../cp4aiops-lab/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    IBM Cloud Pak for AIOps
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../print_page/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Print Site
  </span>
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#environment-overview" class="md-nav__link">
    <span class="md-ellipsis">
      Environment Overview
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#connecting-to-the-lab-environment" class="md-nav__link">
    <span class="md-ellipsis">
      Connecting to the Lab Environment
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#exploring-the-robot-shop-sample-application" class="md-nav__link">
    <span class="md-ellipsis">
      Exploring the Robot Shop Sample Application
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#instana" class="md-nav__link">
    <span class="md-ellipsis">
      Instana
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Instana">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#overview-of-instana-observability" class="md-nav__link">
    <span class="md-ellipsis">
      Overview of Instana Observability
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#viewing-the-instana-agent-on-openshift" class="md-nav__link">
    <span class="md-ellipsis">
      Viewing the Instana Agent on OpenShift
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#navigating-the-instana-dashboard" class="md-nav__link">
    <span class="md-ellipsis">
      Navigating the Instana Dashboard
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#using-instana-to-identify-a-problem" class="md-nav__link">
    <span class="md-ellipsis">
      Using Instana to Identify a Problem
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#instana-wrap-up" class="md-nav__link">
    <span class="md-ellipsis">
      Instana Wrap-up
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#references" class="md-nav__link">
    <span class="md-ellipsis">
      References
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  

  
  


<h1 id="aiops-with-ibm-z-and-linuxone">AIOps with IBM Z and LinuxONE<a class="headerlink" href="#aiops-with-ibm-z-and-linuxone" title="Permanent link">&para;</a></h1>
<p>In this tutorial, you will become familiar with three of IBM's strategic AIOps solutions - Instana, Turbonomic, and IBM Cloud Pak for AIOps - and the capabilities they have to monitor and manage IBM Z applications and infrastructure.</p>
<h2 id="environment-overview">Environment Overview<a class="headerlink" href="#environment-overview" title="Permanent link">&para;</a></h2>
<p><img alt="aiops-arch" src="../../images/aiops-arch-AIOps-workshop.drawio.png" /></p>
<h2 id="connecting-to-the-lab-environment">Connecting to the Lab Environment<a class="headerlink" href="#connecting-to-the-lab-environment" title="Permanent link">&para;</a></h2>
<p>Connection instructions with platform URLs and credentials are listed on the <a href="../../access/">Environment Access Page</a>.</p>
<h2 id="exploring-the-robot-shop-sample-application">Exploring the Robot Shop Sample Application<a class="headerlink" href="#exploring-the-robot-shop-sample-application" title="Permanent link">&para;</a></h2>
<ol>
<li>
<p><strong>Open a web browser such as Firefox.</strong></p>
</li>
<li>
<p>In the browser, <strong>navigate to your OpenShift console.</strong> </p>
<p>The OpenShift console typically begins with <code>https://console-openshift-console-</code>. You can find this on the <a href="../../access/">Environment Access Page</a>.</p>
<p>You will now see the OpenShift console login page.</p>
<p><img alt="openshift-console-login" src="../../images/openshift-console-login.png" /></p>
</li>
<li>
<p><strong>Log in with your OpenShift credentials.</strong></p>
</li>
<li>
<p><strong>Under the developer perspective, navigate to the Topology page for the <code>robot-shop</code> project.</strong></p>
<p><img alt="robot-shop-topology" src="../../images/robot-shop-topology.png" /></p>
<p>Robot Shop is a simulated online store where you can purchase robots and AI solutions. Robot Shop is made up of many different microservices that are written in different programming languages. There are 12 different microservices written in languages including NodeJS, Python, Spring Boot, and Go, along with containerized databases including MongoDB, MySQL, and Redis. Each icon in the Topology represents an OpenShift deployment for a specific microservice. Each microservice is responsible for a single function of the Robot Shop application that you will see in the following steps.</p>
</li>
<li>
<p><strong>Open the Robot Shop web application by clicking the small button in the top right of the <code>web</code> icon.</strong></p>
<p>This is simply a hyperlink that will take you to the Robot Shop application homepage.</p>
<p><img alt="web-route" src="../../images/web-route.png" /></p>
<p>The Robot Shop homepage should appear like the screenshot below, with all of the same options in the left side menu.</p>
<p><img alt="robot-shop-1" src="../../images/robot-shop-1.png" /></p>
</li>
<li>
<p><strong>Explore the website and its functionalities from the left side menu.</strong></p>
<p>You can register a new user, explore the catalog of purchasable robots, give them ratings, and simulate a purchase.</p>
<p>Notice that from the OpenShift and Robot Shop perspectives, you don't get much of a sense of how the various microservice applications are plumbed together, how they are performing, if they have the correct amount of resources, or if any issues are affecting the application currently. In other words, there is a lack of <em>observability</em>, <em>application performance management</em>, and <em>proactive problem remediation</em>.</p>
</li>
</ol>
<h2 id="instana">Instana<a class="headerlink" href="#instana" title="Permanent link">&para;</a></h2>
<h3 id="overview-of-instana-observability">Overview of Instana Observability<a class="headerlink" href="#overview-of-instana-observability" title="Permanent link">&para;</a></h3>
<p>Instana is an enterprise observability solution that offers application performance management - no matter where the application or infrastructure resides. Instana can monitor both containerized and traditional applications, various infrastructure types including OpenShift, public clouds &amp; other containerization platforms, native Linux, z/OS, websites, databases, and more. The current list of supported technologies can be found <a href="https://www.ibm.com/docs/en/instana-observability/current?topic=configuring-monitoring-supported-technologies">in the Instana documentation</a>.</p>
<h3 id="viewing-the-instana-agent-on-openshift">Viewing the Instana Agent on OpenShift<a class="headerlink" href="#viewing-the-instana-agent-on-openshift" title="Permanent link">&para;</a></h3>
<ol>
<li>
<p>In the OpenShift cluster, <strong>navigate to the <code>instana-agent</code> project then click the circular icon on the Topology page that is labeled <code>instana-agent</code>.</strong></p>
<p><img alt="instana-agent-daemonset" src="../../images/instana-agent-daemonset.png" /></p>
<p>This is the Instana agent that is collecting all the information about the containerized applications running on OpenShift and sending that information to the Instana server.</p>
<p>The agent is deployed as a <a href="https://kubernetes.io/docs/concepts/workloads/controllers/daemonset/">DaemonSet</a>, which is a Kubernetes object that ensures one copy of the pod runs on each compute node in the cluster. Each individual Instana agent pod is responsible for the data and metrics collection for the compute node it runs on.</p>
</li>
<li>
<p><strong>Click the other circular icon on the Topology page that is labeled <code>k8sensor</code>.</strong></p>
<p><img alt="k8sensor-deployment" src="../../images/k8sensor-deployment.png" /></p>
<p>The <code>k8sensor</code> pods are responsible for gathering information about the OpenShift cluster itself and all of the Kubernetes objects in includes - pods, namespaces, routes, etc., and sending that information to the Instana server. </p>
</li>
<li>
<p><strong>Click the <code>view logs</code> hyperlink next to one of the <code>k8sensor</code> pods in the right-side menu.</strong></p>
<div class="highlight"><pre><span></span><code>2024/03/19 16:45:53 main.go:365: pod=instana-agent/k8sensor-5b46b459dc-lrz9z shards=[01 04 07 0A 0D 10 13 16]
2024/03/19 16:45:53 main.go:365: call=senseLoop PodsCount={285} PodsRunning={282} PodsPending={3} snitch=pod sense.min=0 sense.99.9PCTL=0 sense.max=0 apply.min=2 apply.99.9PCTL=22 apply.max=27 http.do.min=0 http.do.99.9PCTL=97 http.do.max=104 encode.pmin=2.41KB encode.p99.9PCTL=34.34KB encode.pmax=254.29KB encode.tmin=0 encode.t99.9PCTL=45 encode.tmax=97 total.min=5 total.99.9PCTL=110 total.max=132 send.calls=9600 send.errors=0
</code></pre></div>
<p>If you would like to see what data the agents are collecting or if you need to debug issues with collecting data from certain workloads running on OpenShift, these pod logs are a good first place to look.</p>
<p>In the next section, you will take a look at the other side of the OpenShift Instana agent - the Instana server that is receiving the data.</p>
</li>
</ol>
<h3 id="navigating-the-instana-dashboard">Navigating the Instana Dashboard<a class="headerlink" href="#navigating-the-instana-dashboard" title="Permanent link">&para;</a></h3>
<ol>
<li>
<p><strong>In a web browser, navigate to your Instana server.</strong> You can find this address on the <a href="../../access/">Enviroment Access Page</a>.</p>
</li>
<li>
<p><strong>Log in with your Instana credentials.</strong></p>
<p>When you first log into Instana, you will be taken to the Home Page. This is a customizable summary page that shows the key metrics for any component of your environment in the timeframe specified in the top right of the screen.</p>
<p><img alt="instana-timeframe" src="../../images/instana-timeframe.png" /></p>
</li>
<li>
<p><strong>Set the time frame to Last Hour and click the Live button.</strong></p>
<p>You are now seeing metrics for the environment over the previous hour, and it is updating in real time with up to 1 second granularity and no sampling.</p>
<p>The next thing to notice is the menu on the left side of the page. If you hover over the left side panel, you will see a menu of links that will let you dive into different sections of the Instana dashboard, rather than seeing every option.</p>
</li>
<li>
<p><strong>Click the left side panel so the menu appears.</strong></p>
<p><img alt="instana-menu" src="../../images/instana-menu.png" /></p>
<p>Next, you will go through each section in the menu.</p>
</li>
<li>
<p><strong>Click the Websites &amp; Mobile Apps option in the left-side menu.</strong></p>
<p>You can see that Instana is monitoring a website named <code>Robot Shop Website</code>. This is the set of webpages associated with the Robot Shop sample application that is deployed on OpenShift on IBM Z. Instana supports <a href="https://www.ibm.com/docs/en/instana-observability/current?topic=instana-monitoring-websites">website monitoring</a> by analyzing browser request times and route loading times. It allows detailed insights into the web browsing experience of users, and deep visibility into application call paths. The Instana website monitoring solution works by using a lightweight JavaScript agent, which is embedded into the monitored website.</p>
</li>
<li>
<p><strong>Click the Robot Shop Website hyperlink.</strong></p>
<p><img alt="instana-website-metrics" src="../../images/instana-website-metrics.png" /></p>
<p>With website monitoring, there numerous filters and tabs with more information.</p>
</li>
<li>
<p><strong>Navigate through the various tabs to show more data - Speed, Resources, HTTP requests, and Pages.</strong></p>
<p><img alt="instana-website-metrics-2" src="../../images/instana-website-metrics-2.png" /></p>
<p>In the next section, you will dig into how the application resources on OpenShift on IBM Z are running.</p>
</li>
<li>
<p><strong>Click the Applications option in the left side menu.</strong></p>
<p>This Instana instance has many applications configured. We will be exploring a few of them during this lab, primarily the <code>Robot Shop Microservices Application</code>.</p>
<p>You may find it easier to use the search bar to the top right (under the timeframe selection).</p>
</li>
<li>
<p><strong>Click the Robot Shop Microservices Application hyperlink.</strong></p>
<p>An application perspective represents a set of services and endpoints that are defined by a shared context and is declared using tags. For example, in this tutorial, the Robot Shop Microservices application perspective encompasses all services and endpoints that meet the tag <code>kubernetes-namespace=robot-shop</code>.</p>
<p>Alongside the Robot Shop application running in OpenShift, there is a container running a Python application that generates load to each microservice. The metrics you see now in the application perspective are coming from that load generator. At the top of the page, you can see the total number of calls, the number of erroneous calls, and the mean latency for each call over the past hour.</p>
<p>As with the Websites &amp; Mobile Applications section, the Application perspective has various tabs that contain different information. When it comes to microservices, one of the most helpful tabs in the Application perspective is the Dependency graph.</p>
</li>
<li>
<p><strong>Click the Dependencies tab.</strong></p>
<p><img alt="instana-dependencies" src="../../images/instana-dependencies.png" /></p>
<p>The dependency graph offers a visualization of each service in the Application perspective, which services interact with each other, and visual representations of errors, high latency, or erroneous calls.</p>
<p>There are more tabs in the Application perspective related to each individual service, error and log messages, the infrastructure stack related to the tag, and options to configure the Application perspective.</p>
</li>
<li>
<p><strong>Click through each of the tabs.</strong></p>
<p>If you pay attention while clicking through these tabs, you will notice that the payments service has an unusually high number of erroneous calls, and you could dig into the specific calls to start debugging these errors.</p>
<p>Next, you'll take a look at Instana's Kubernetes monitoring capabilities.</p>
</li>
<li>
<p><strong>Click the Platforms -&gt; Kubernetes option in the left side menu.</strong></p>
</li>
<li>
<p><strong>Click the atsocpd1 (cluster) hyperlink.</strong></p>
<p><img alt="instana-openshift" src="../../images/instana-openshift.png" /></p>
<p>OpenShift clusters are monitored by simply deploying a containerized Instana agent onto the cluster. Once deployed, the agent will report detailed data about the cluster and the resources deployed on it. Instana automatically discovers and monitors clusters, CronJobs, Nodes, Namespaces, Deployments, DaemonSets, StatefulSets, Services, and Pods.</p>
<p>The Summary page shows the most relevant information for the cluster as a whole. The CPU, Memory, and Pod usage information are shown. The other sections, such as "Top Nodes" and "Top Pods" show potential hotspots which you might want to have a look at.</p>
</li>
<li>
<p><strong>Click the Nodes tab.</strong></p>
<p>The Nodes tab shows all of the Kubernetes nodes in the cluster in real time.</p>
</li>
<li>
<p><strong>Click the Namespace tab, then search for <code>robot-shop</code> and select it.</strong></p>
<p><img alt="instana-ocp-ns" src="../../images/instana-ocp-ns.png" /></p>
<p>In the <code>robot-shop</code> namespace page, you can see details for all of the Kubernetes resources that are deployed in the <code>robot-shop</code> namespace, including deployments, services, pods, and the relevant metrics for each object.</p>
<p>In the next section, you will look at infrastructure metrics. In our case, the metrics related to a Linux server with an Oracle Database installed on it.</p>
</li>
<li>
<p><strong>Click the Infrastructure option in the left side menu.</strong></p>
<p><img alt="instana-infrastructure" src="../../images/instana-infrastructure.png" /></p>
<p>The Infrastructure map provides an overview of all monitored systems. Within each group are pillars comprised of opaque blocks. Each pillar as a whole represents one agent running on the respective system. Each block within a pillar represents the software components running on that system.</p>
</li>
<li>
<p><strong>In the Infrastructure search bar, enter <code>oracledb</code> and select the resulting pillar.</strong></p>
<p><img alt="infrastructure-oracledb" src="../../images/infrastructure-oracledb.png" /></p>
<p>You can now see information about the Oracle on IBM Z database monitored by Instana including its version, SID, and more.</p>
</li>
<li>
<p><strong>Click the "Open Dashboard" button for the OracleDB.</strong></p>
<p><img alt="infrastructure-oracledb2" src="../../images/infrastructure-oracledb2.png" /></p>
<p>Now you see metrics specific to Oracle that a database administrator might be interested in.</p>
<p>There are many IBM Z technologies supported by Instana, including z/OS. See the list of supported technologies <a href="https://www.ibm.com/docs/en/instana-observability/current?topic=configuring-monitoring-supported-technologies">here</a>, <a href="https://www.ibm.com/docs/en/iooz?topic=installing-configuring-z-apm-connect-components">here</a>, and <a href="https://www.ibm.com/docs/en/iooz?topic=integrating-omegamon">here</a></p>
</li>
<li>
<p><strong>Click the Analytics option in the left side menu.</strong></p>
<p>Instana analytics are integrated into each of the panels you've looked at so far, but you can also directly access them from the menu.</p>
<p>By default, you're taken to a built-in dashboard for analytics related to Application calls. You can filter by using the left side options, or by creating filters at the top.</p>
</li>
<li>
<p><strong>Expand the left side options and select Only Erroneous and the Robot Shop Microservices application.</strong></p>
<p><img alt="instana-analytics-1" src="../../images/instana-analytics-1.png" /></p>
<p>The primary source of errors is starting to become apparent.</p>
</li>
<li>
<p><strong>Click the Events option in the left side menu. Click the Incidents tab if you aren't automatically taken there.</strong></p>
<p>Instana can parse all of the requests, calls, traces, and other information into a stream of events and then classify and group them. Instana includes built-in events, predefined health signatures based on integrated algorithms which help you to understand the health of your monitored system in real-time. If a built-in event is not relevant for the monitored system, it can be disabled. Conversely, you can create a custom event in Instana if it does not already exist. These events can then be sent as an alert to a channel of your choice, such as email, Slack, AIOps, Splunk, PagerDuty, Prometheus, a generic webhook, or one of many more supported technologies.</p>
<p>Right now you're looking at Incidents that Instana has identified during the timeframe. Incidents are created when a key performance indicator such as load, latency, or error rate changes over a certain threshold.</p>
</li>
<li>
<p><strong>Select the Issues tab.</strong></p>
<p><img alt="instana-events-2" src="../../images/instana-events-2.png" /></p>
<p>An issue is an event that is triggered if something out of the ordinary happens. You can think of Incidents as Issues that Instana has correlated with each other to form a cohesive event.</p>
</li>
</ol>
<h3 id="using-instana-to-identify-a-problem">Using Instana to Identify a Problem<a class="headerlink" href="#using-instana-to-identify-a-problem" title="Permanent link">&para;</a></h3>
<p>As you looked through the various sections of the Instana dashboard, a few errors kept popping up. In this section, you will use Instana to pinpoint the root cause of the errors and fix them. When debugging with Instana, a good place to start is Events.</p>
<ol>
<li>
<p><strong>Back on the Incidents tab, click one of the Incidents titled "Erroneous call rate is too high".</strong></p>
<p><img alt="instana-events-1" src="../../images/instana-events-1.png" /></p>
<p>The incident page shows a dynamic graph of all associated issues, events, and correlates it with other incidents to provide a comprehensive overview of the situation regarding service and event impact.</p>
</li>
<li>
<p><strong>Click to expand the triggering event.</strong></p>
<p><img alt="instana-events-3" src="../../images/instana-events-3.png" /></p>
<p>Instana automatically displays a relevant dynamic graph. In this case, it is the erroneous call rate for the payment service. Instana also provides a link to the analysis page for these calls.</p>
</li>
<li>
<p><strong>Click the "Analyze Calls" button.</strong></p>
<p>Now you're back on the Analysis page you looked at previously, but with the correct filters automatically applied. You can see that the <code>POST /pay/{id}</code> endpoint has 100% erroneous calls. Click to expand that dropdown.</p>
<p><img alt="instana-analytics-1" src="../../images/instana-analytics-1.png" /></p>
<p>Notice how the same information about the erroneous calls for <code>POST /pay/partner-57</code> is displayed as it was previously, but Instana did all of the filtering. Because of the 100% error rate, it's clear that this endpoint is having an issue. Instana also provided links to the specific calls that failed.</p>
</li>
<li>
<p><strong>Click one of the "POST /pay/partner-57" links.</strong></p>
<p><img alt="instana-analytics-2" src="../../images/instana-analytics-2.png" /></p>
<p>On the call page, you see how many instances of the erroneous call there are, a trace of the call and at which point the error occurred, the status code and error messages received, and more. From reading through the information on this page, it's apparent that the source of the error is the <code>payment</code> service in Kubernetes. The related endpoints and infrastructure such as the MongoDB and the <code>user</code> service look healthy.</p>
</li>
<li>
<p><strong>Click the "payment" link under "Service Endpoint List".</strong></p>
<p><img alt="instana-analytics-3" src="../../images/instana-analytics-3.png" /></p>
<p>Again you can confirm that the payment service in OpenShift is the cause of these Incidents. At this point you would want to look at the Kubernetes YAML definitions and the python code that was containerized and is running this microservice. For the sake of this demonstration, the error is caused by an intentional bug built into the load generator which is attempting to access a payment endpoint that does not exist.</p>
</li>
</ol>
<h3 id="instana-wrap-up">Instana Wrap-up<a class="headerlink" href="#instana-wrap-up" title="Permanent link">&para;</a></h3>
<p>You should now have a better understanding of Instana observability, how to use the platform, and the IBM Z data and metrics it can observe. The observability provided by Instana set the stage for other IBM solutions to <strong>use that data</strong> to make AI-driven insights around application performance and problem remediation.</p>
<h2 id="references">References<a class="headerlink" href="#references" title="Permanent link">&para;</a></h2>
<ul>
<li><a href="https://www.ibm.com/products/instana">Instana Product Page</a></li>
<li><a href="https://www.ibm.com/docs/en/instana-observability/current">Instana Documentation</a></li>
<li><a href="https://www.ibm.com/docs/en/instana-observability/current?topic=configuring-monitoring-supported-technologies">Instana Supported Technologies</a></li>
</ul>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      Copyright Â© 2024 IBM Z Washington Systems Center
    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
      <div class="md-progress" data-md-component="progress" role="progressbar"></div>
    
    
    <script id="__config" type="application/json">{"base": "../..", "features": ["search.suggest", "search.highlight", "navigation.instant", "navigation.instant.progress"], "search": "../../assets/javascripts/workers/search.b8dbb3d2.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../../assets/javascripts/bundle.1e8ae164.min.js"></script>
      
        <script src="../../js/print-site.js"></script>
      
    
  </body>
</html>